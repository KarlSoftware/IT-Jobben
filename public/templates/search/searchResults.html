<div class="container-fluid">
  <div class="container white-subtle-shadow" ng-controller="searchResultsCtrl">

    <div class="row">
      <div class="col-md-4">
        <h3 class="text-center">{{searchResults}} Sökresultat för <b>{{searchTerm}}</b></h3>
        <form ng-submit="search()" autocomplete="off">
          <div class="input-group">
              <input type="text" ng-model='searchterm' class="form-control" ng-enter="search()" placeholder="Sök på nytt efter..." id='search'>
              <span class="input-group-btn">
                <button class="btn btn-default" id='seachButton' ng-click="search()" type="button"><span class="glyphicon glyphicon-search" aria-hidden="true"></button>
              </span>
          </div><!-- /input-group -->
        </form>
        <br>
        <div class="panel panel-success">
          <div class="panel-heading">Filtrera sökresultat</div>
          <div class="panel-body">
            <label>Efter nyckelord: <input ng-model="searchText" class="form-control"></label>
            <br>
            <p class="text-muted" ng-if="searchText">{{filterLength.length}}
              <span ng-if="filterLength.length != '1'">annonser</span>
              <span ng-if="filterLength.length == '1'">annons</span>
              matchar din filtrering</p>
              <button class="btn btn-default btn-success" ng-hide="pagination.page == 0" ng-click="pagination.prevPage()">Föregående</button>
              <button class="btn btn-default btn-success" ng-hide="pagination.page + 1 >= pagination.numPages" ng-click="pagination.nextPage()">Nästa</button>
          </div>
        </div> <!-- end of panel -->

      </div> <!-- end of column -->


      <div class="col-md-6 col-md-offset-1">
        <br>
        <table class="table table-striped table-hover table-bordered">
          <caption ng-if="searchResults > 75">
            <span> Precisera eller filtrera din sökning ytterligare för bättre resultat</span>
          </caption>
          <thead>
            <tr>
              <th>Annons</th>
            </tr>
          </thead>
          <tbody>
              <tr ng-repeat="ad in ads | startFrom: pagination.page * pagination.perPage | limitTo: pagination.perPage | filter: searchText as filterLength">
                <td><a ng-href="#/annons/{{ad.annonsid}}">{{ad.annonsrubrik}}</a><br>
                  <span class="text-muted">
                    <i class="fa fa-clock-o"></i> {{ad.publiceraddatum | amCalendar}}
                    <span ng-if="ad.antalplatser != '0'"> <i class="fa fa-user"></i> {{ad.antalplatser}}</span>
                    <span ng-if="ad.antalplatser == '0'">ingen info</span><br>
                    <i class="fa fa-map-marker"> {{ad.kommunnamn}}</i>
                    <i class="fa fa-building-o"></i> {{ad.arbetsplatsnamn}} <br>
                    <i class="fa fa-briefcase"></i> {{ad.yrkesbenamning}}
                  </span>
                </td>
              </tr>
          </tbody>
        </table>
        <button class="btn btn-default btn-success" ng-hide="pagination.page == 0" ng-click="pagination.prevPage()">Föregående</button>
        <button class="btn btn-default btn-success" ng-hide="pagination.page + 1 >= pagination.numPages" ng-click="pagination.nextPage()">Nästa</button>

      </div> <!-- end of column -->

    </div> <!-- end of row -->
    <div class="row margin-bottom">
      <div class="col-md-12 col-lg-12 text-center">

        <ul class="pagination">
          <li><a href="" ng-click="pagination.prevPage()">&laquo;</a></li>
            <li ng-repeat="n in [] | range: pagination.numPages | limitTo: pagination.page + 5" ng-class="{active: n == pagination.page}">
            <a href="" ng-click="pagination.toPageId(n)">{{n + 1}}</a>
            </li>
            <li><a href="" ng-click="pagination.nextPage()">&raquo;</a></li>
          </ul>
      </div>
    </div>


  </div>
</div>
